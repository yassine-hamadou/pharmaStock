{% extends 'dashboard/dashboardBase.html.twig' %}

{% block title %}Nouveau Stock
{% endblock %}

{% block dashboardSection %}
	<div class="card card-teal">
		<div class="card-header">
			<h2 class="card-title">Créer stock d'un produit</h2>
		</div>
		<!-- /.card-header -->

		{{ form_start(form) }}
		<div class="card-body">
			<div class="form-group">
				<label>Nom du produit</label>
				<div class="container-fluid">
					<div class="row">
						{{ form_widget(form.idProduit, { 'attr': {'class': 'form-control col-11 mr-3'} }) }}
						<button type="button" class="btn btn-default" data-toggle="modal" data-target="#modal-produit">
							Créer
						</button>
					</div>
					{# modal pour créer un nouveau produit #}
					<div class="modal fade" id="modal-produit">
						<div class="modal-dialog modal-lg">
							<div class="modal-content">
                <div class="card card-teal mb-0">
                  <div class="card-header">
                    <h2 class="card-title">Créer nouveau produit</h2>
                  </div>
                  <!-- /.card-header -->

                  {{ form_start(productForm) }}
                  <div class="card-body">
                    {{ form_widget(productForm) }}
                  </div>
                  <!-- /.card-body -->
                  <div class="card-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
                    <button class="btn" style="background-color: #20c997; color: white; float: right;">{{ button_label|default('Ajouter produit') }}</button>
                  </div>

                  {{ form_end(productForm) }}
                  <!-- /.card-body -->
                </div>
							</div>
							<!-- /.modal-content -->
						</div>
						<!-- /.modal-dialog -->
					</div>

				</div>
			</div>

			<div class="form-group">
				<label>Fournisseur</label>
				<div class="container-fluid">
					<div class="row">
						{{ form_widget(form.idFournisseur, { 'attr': {'class': 'form-control col-11 mr-3'} }) }}
						<button type="button" class="btn btn-default" data-toggle="modal" data-target="#modal-fournisseur">
							Créer f
						</button>
					</div>

					{# modal pour créer un nouveau fournisseur #}
					<div class="modal fade" id="modal-fournisseur">
						<div class="modal-dialog modal-lg">
							<div class="modal-content">
								<div class="modal-header">
									<h4 class="modal-title">Créer un fournisseur</h4>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>

								<div class="modal-body">
									<div class="card card-teal">
										<div class="card-header">
											<h2 class="card-title">Créer nouveau fournisseur</h2>
										</div>
										<!-- /.card-header -->

										<div class="card-body"></div>
										<!-- /.card-body -->
										<div class="card-footer">
											<button class="btn" style="background-color: #20c997; color: white;">{{ button_label|default('Ajouter fournisseur') }}</button>
										</div>
										{# {{ form_end(form) }} #}
									</div>
								</div>

								<div class="modal-footer justify-content-between">
									<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
									<button type="button" class="btn btn-primary">Enregistrer</button>
								</div>
							</div>
							<!-- /.modal-content -->
						</div>
						<!-- /.modal-dialog -->
					</div>

				</div>
			</div>


			<div class="form-group">
				<label>Date fourni</label>
				{{ form_widget(form.dateFourni, { 'attr': {'class': 'form-control'} }) }}
			</div>
			<div class="form-group">
				<label>Date de fabrication</label>
				{{ form_widget(form.dateFabrication, { 'attr': {'class': 'form-control'} }) }}
			</div>
			<div class="form-group">
				<label>Date de péremption</label>
				{{ form_widget(form.datePeremption, { 'attr': {'class': 'form-control'} }) }}
			</div>
			<div class="form-group">
				<label>Quantité</label>
				{{ form_widget(form.quantite, { 'attr': {'class': 'form-control'} }) }}
			</div>
			<div class="form-group">
				<label>Prix d'achat unitaire</label>
				{{ form_widget(form.prixAchat, { 'attr': {'class': 'form-control'} }) }}
			</div>
			<div class="form-group">
				<label>Prix de revente unitaire</label>
				{{ form_widget(form.prixVente, { 'attr': {'class': 'form-control'} }) }}
			</div>
		</div>
		<!-- /.card-body -->
		<div class="card-footer">
			<button class="btn" style="background-color: #20c997; color: white;">{{ button_label|default('Ajouter stock') }}</button>
		</div>
		{{ form_end(form) }}
	</div>

	<a href="{{ path('app_stock_index') }}">Liste des stocks</a>
{% endblock %}
